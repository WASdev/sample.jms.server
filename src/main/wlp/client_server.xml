<server>
   <featureManager>      
      <feature>servlet-3.0</feature>      
      <feature>wasJmsClient-1.1</feature>      
      <feature>jmsMdb-3.1</feature>
   </featureManager>
   
	<httpEndpoint id="defaultHttpEndpoint"
                  host="localhost"
                  httpPort="9128"
                  httpsPort="9129">
    </httpEndpoint>   


	<!-- Liberty profile supports configuring and deploying MDB's for asynchronous 
		consumption of messages from Liberty messaging. As per JCA specification, 
		MDB's make use of Activation Specifications to interact with Liberty Messaging. 
		Defines a JMS activation specification configuration, The ID value must be 
		in the format of application name/module name/bean name where Application 
		name is the name of the application that is deployed (for example, JMSSample) 
		and the application name applies only if the bean is packaged within an EAR 
		file . Bean name is the ejb-name of the enterprise bean. Module name is the 
		name of the module in which the bean is packaged. Define the destinationRef 
		pointing to a valid jmsQueue ID. -->
   <jmsActivationSpec id="JMSApp/SampleMDB">
      <properties.wasJms destinationRef="jndi/MDBQ" 
      remoteServerAddress="localhost:9126:BootstrapBasicMessaging"/>
   </jmsActivationSpec>

	<!-- Defines a JMS topic connection factory configuration. JMS applications 
		can lookup this topic connection factory to establishing connection to the 
		messaging engine running within the same liberty profile as that of the application. 
		Provide a clientID value, since the clientID uniquely identifies a subscriber. -->
   <jmsTopicConnectionFactory jndiName="jmsTCF" connectionManagerRef="ConMgr3">
      <properties.wasJms remoteServerAddress="localhost:9126:BootstrapBasicMessaging" clientID="clientId2" /> 
   </jmsTopicConnectionFactory>
   <!-- Each of the connection factory is associated with a connection pool. 
		A connection pool holds similar connections created for a specific connection 
		factory. connectionManager element enables users to define the pool size for 
		each of the associated connection factory. Refer to the connectionManagerRef 
		attribute in the connection factory configuration. -->
   <connectionManager id="ConMgr3" maxPoolSize="5"/>


   <!-- Defines the JMS topic configuration. jmsTopic element defines properties 
		that enables JMS application to publish or subscribe for messages to a particular 
		topic under a topic space. -->
   <jmsTopic jndiName="jmsTopic">
      <properties.wasJms topicName="SPORTS"/>
   </jmsTopic>

	<!-- Defines a JMS Queue connection factory configuration. JMS applications 
		can lookup this Queue connection factory to establishing connection to the 
		messaging provider using the factory defined values. Define a queue connection 
		factory that the sample application uses to connect to the liberty messaging 
		running within the same Liberty profile as that of the application. -->
   <jmsQueueConnectionFactory jndiName="jndi_JMS_BASE_QCF" connectionManagerRef="ConMgr6">
      <properties.wasJms    
         remoteServerAddress="localhost:9126:BootstrapBasicMessaging"/>
   </jmsQueueConnectionFactory>
   <connectionManager id="ConMgr6" maxPoolSize="5"/>

   <!-- Defines the JMS Queue configuration. jmsQueue element defines properties 
		that enables JMS application to produce or consume messages from a particular 
		queue, in this case the application connects to a queue "QUEUE1" defined 
		in the messagingEngine element. -->
   <jmsQueue jndiName="jndi_INPUT_Q">
      <properties.wasJms queueName="QUEUE1"/>
   </jmsQueue>

   <jmsQueue id="jndi/MDBREPLYQ" jndiName="jndi/MDBREPLYQ">
      <properties.wasJms queueName="MDBREPLYQ"/>
   </jmsQueue>

   <jmsQueue id="jndi/MDBQ" jndiName="jndi/MDBQ">
      <properties.wasJms   queueName="MDBQ"/>
   </jmsQueue>

</server>
